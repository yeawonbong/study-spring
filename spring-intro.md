# Spring 개요

# Spring 프레임워크

## 스프링이란?

- 자바 기반의 웹 어플리케이션을 만들 수 있는 프레임워크

![image](https://github.com/yeawonbong/study-spring/assets/75327385/5e9ad33a-0abb-4d7b-87e1-730e255c9d31)

- 스프링은 어떤 하나의 것이 아니라, 여러 기술들의 모음이라고 볼 수 있다.
- 스프링 구조
    
    ![image](https://github.com/yeawonbong/study-spring/assets/75327385/3fc701fb-4f24-4480-b4e2-c199acc8a34d)

    

## 주요 개념 및 특징

### DI (의존성 주입, Dependency Injection)

- 어떤 기능을 만들어서 필요할 때마다 주입해서 사용하는 것
- 어떤 객체(B)를 사용하는 주체(A)가 객체(B)를 직접 생성하는게 아니라 **객체를 외부(Spring)에서 생성해서 사용하려는 주체 객체(A)에 주입시켜주는 방식**. 사용하는 주체(A)가 사용하려는 객체(B)를 직접 생성하는 경우 의존성(변경사항이 있는 경우 서로에게 영향을 많이 준다)이 높다. 하지만, 외부(Spring)에서 직접 생성하여 관리하는 경우에는 A와 B의 의존성이 줄어든다.

### AOP (관점 지향 프로그래밍, Aspect-Oriented Programming)

- 관점을 기준으로 다양한 기능을 분리하여 보는 프로그래밍이다.
- ~~공통된 부분을 뽑아내서 주요 부분만 작업을 하고 공통된 부분은 떼었다 붙였다 하는 기능~~
- 관점 지향은 어떤 로직을 기준으로 **핵심적인 관점, 부가적인 관점**으로 나누어서 보고 그 관점을 기준으로 모듈화 하겠다는 것이다.
- 예를 들어 핵심적인 관점은 비즈니스 로직이 될 수 있고, 부가적인 관점은 핵심 로직을 실행하기 위해 행해지는 데이터베이스 연결, 로깅, 파일 입출력 등이 될 수 있다.
- AOP는 흩어진 관심사(Crosscutting Concerns)를 모듈화 할 수 있는 프로그래밍 기법이다
    
    ![image](https://github.com/yeawonbong/study-spring/assets/75327385/6af156bc-7b26-4fc1-9d01-716c7f2191ff)
    
    - 그림과 같이 클래스 A, B, C에서 공통적으로 나타나는 색깔 블록은 중복되는 메서드, 필드, 코드 등이다. 이때 예를 들어 클래스 A의 주황색 블록 부분을 수정해야 한다면 클래스 B, C의 주황색 부분도 일일이 찾아 수정해야 한다. 이는 유지보수를 어렵게 만든다. 이런 식으로 소스 코드상에서 계속 반복해서 사용되는 부분들을 **흩어진 관심사(Crosscutting Concerns)**라고 한다.
    - 결국 AOP에서 각 관점을 기준으로 로직을 모듈화한다는 것은 **흩어진 관심사를 모듈화**하겠다는 의미다. 그림과 같이 주황색, 파란색, 빨간색 블록처럼 모듈화 시켜놓고 어디에 적용시킬지만 정의해주면 되는 것이다. 이때 **모듈화 시켜놓은 블럭을 Aspect**라고 한다.

### MVC

- Model, View, Control로 코드를  분리해서 구조화하여 프로그래밍하는 방식

### JDBC (Java Database Connectivity)

- 자바 프로그램이 데이터베이스와 연결되어 데이터를 주고 받을 수 있게 해주는 프로그래밍 인터페이스

### IOC (제어의 역전, Inversion Of Control)

- 일반적으로 처음에 배우는 자바 프로그램에서는 **각 객체들이 프로그램의 흐름을 결정하고 각 객체를 직접 생성하고 조작하는 작업(객체를 직접 생성하여 메소드 호출)을 했다**. 즉, 모든 작업을 사용자가 제어하는 구조였다. 예를 들어 A 객체에서 B 객체에 있는 메소드를 사용하고 싶으면, B 객체를 직접 A 객체 내에서 생성하고 메소드를 호출.
- 하지만 **IOC가 적용된 경우, 객체의 생성을 특별한 관리 위임 주체에게 맡긴다.** 이 경우 **사용자는 객체를 직접 생성하지 않고, 객체의 생명주기를 컨트롤하는 주체는 다른 주체**가 된다. 즉, 사용자의 제어권을 다른 주체에게 넘기는 것을 IOC(제어의 역전) 라고 한다.
- 요약하면 Spring의 Ioc란 **`클래스 내부의 객체 생성 -> 의존성 객체의 메소드 호출`**이 아닌, **`스프링에게 제어를 위임하여 스프링이 만든 객체를 주입 -> 의존성 객체의 메소드 호출`** 구조. 스프링에서는 모든 의존성 객체를 스프링이 실행될때 만들어주고 필요한 곳에 주입해준다.

### 빠르고 쉬움

- 쿠키나 세션 처리, 로그인/로그아웃 처리, 권한 처리, 데이터베이스 처리 등 웹 프로그램을 위해 만들어야 할 기능이 프레임워크에 포함되어있기 때문에 기능을 익혀 사용하기만 하면 된다.

### 보안성

- SQL 인젝션, XSS(cross-site scripting), CSRF(cross-site request forgery), 클릭재킹(clickjacking)과 같은 보안 공격을 기본으로 막아 준다. 즉, 스프링부트를 사용하면 이런 보안 공격에 대한 코드를 따로 짤 필요가 없다.

### WAS가 내장됨

- 스프링부트에는 톰캣 서버가 내장되어 있고 설정도 자동 적용되기 때문에 WAS에 대해서 전혀 신경쓸 필요가 없다.
- *WAS: Web Application Server

## 프레임워크란?

- Java의 대표적 프레임워크: Spring(웹), Android(모바일앱)
- 프레임워크는 개발을 하기위한 업무를 추상적으로 정의해놓은 틀이라고 볼 수 있다.
- 즉, 기능을 추상적으로 정의해놓은 틀.
- 틀 안에서 내가 필요한 기능만 구현하면 된다.

# Spring 프레임워크 모듈

## 모듈이란?

- 앞서 말한 기능을 추상화한 틀 하나하나를 ‘모듈’이라고 한다.
- 코드로 구성되어 있는 라이브러리
- 과거에는 개발자가 직접 필요한 모듈을 다운받아서 import하여 사용했지만, 현재는 프로젝트의 환경설정 부분에 XML파일 등을 이용해 명시해주면 프로젝트가 알아서 해당 모듈을 다운받아준다.

## 대표적 모듈

- `spring-core`: 스프링의 핵심인 DI(Dependency Injection)와 IoC를 제공
- `spring-aop`: AOP 구현 기능 제공
- `spring-jdbc`: 데이터베이스를 쉽게(적은 양의 코드로) 다룰 수 있는 기능 제공
- `spring-tx`: 스프링에서 제공하는 트랜젝션 관련 기능 제공
- `spring-webmvc`: 스프링에서 제공하는 컨트롤러와 뷰를 이용한 스프링MVC 구현 기능 제공

# Spring 컨테이너 (IoC)

## 컨테이너란?

- 스프링에서 객체를 생성하고 조립하는 컨테이너로, 컨테이너를 통해 생성된 객체를 빈(Bean)이라고 부른다.
- 객체가 쫙 만들어지고, 필요할때마다 그 객체가 갖고있는 속성과 기능을 사용.

![image](https://github.com/yeawonbong/study-spring/assets/75327385/c1a89536-af7a-4c15-b1a0-4fb40c1122a4)

### 과정

1. XML문서를 통해 객체생성 및 데이터 작성 (여기서 객체가 생성된다고 보면 된다) 
2. Spring Container는 XML문서를 통해 만들어진 객체들을 담고 있는 큰 그릇이라고 보면 된다. 
    - 이 때 객체를 Spring에서는 Bean이라고 한다.
3. 개발문서(자바문서)에서 스프링 컨테이너에 있는 것들을 꺼내서 사용만 하면 된다. 

# Spring boot란?

- 스프링 부트는 스프링을 더 쉽게 이용하기 위한 도구.
- 빠른 스프링 개발 가능 (Spring Initializr)
